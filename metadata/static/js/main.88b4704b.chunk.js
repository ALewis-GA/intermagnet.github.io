(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){},48:function(e,t,n){e.exports=n(79)},58:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(18),o=n.n(i),c=(n(34),n(12)),s=n(13),u=n(42),l=n(43),p=n(44),d=(n(57),n(58),n(8)),f="".concat("FETCH_METADATA","_PENDING"),m="".concat("FETCH_METADATA","_FULFILLED"),h="".concat("FETCH_METADATA","_REJECTED"),g={intermagnet:{stations:{features:[]},contacts:[],institutes:[],definitive:[]},map:{center:[0,0],zoom:2},query:{isFetching:!1,error:null}},T=Object(s.c)({intermagnet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.intermagnet,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STATIONS":return Object(d.a)({},e,{stations:t.payload});case"SET_CONTACTS":return Object(d.a)({},e,{contacts:t.payload});case"SET_DEFINITVE":return Object(d.a)({},e,{definitive:t.payload});case"SET_INSTITUTES":return Object(d.a)({},e,{institues:t.payload});case"SELECT_STATIONS":var n=e.stations.features;return n=n.map(function(e){var n=e.properties;return n.selected=t.payload.includes(n.id),Object(d.a)({},e,{properties:n})}),Object(d.a)({},e,{stations:{type:"FeatureCollection",features:n}});case"HIGHLIGHT_STATIONS":var a=e.stations.features;return a=a.map(function(e){var n=e.properties;return n.highlighted=t.payload.includes(n.id),Object(d.a)({},e,{properties:n})}),Object(d.a)({},e,{stations:{type:"FeatureCollection",features:a}});default:return e}},map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.map,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MAP_CENTER":return Object(d.a)({},e,{center:t.payload});case"SET_MAP_ZOOM":return Object(d.a)({},e,{zoom:t.payload});default:return e}},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.query,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(d.a)({},e,{isFetching:!0,error:null});case m:return Object(d.a)({},e,{isFetching:!1});case h:return Object(d.a)({},e,{isFetching:!1,error:t.payload});default:return e}}}),y=n(19),E=n(14),v=n(27),S=n(20),b=n(26),A=n(82),O=n(83),C=n(84),j=n(85),I=n(86),_=n(87),w=(n(59),function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(v.a)(this,Object(S.a)(t).call(this,e))).map=null,n.popups={},n}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=this;this.props.stations.features.forEach(function(t){t.properties.selected&&t.properties.id in e.popups&&e.popups[t.properties.id].leafletElement.openOn(e.map.leafletElement)})}},{key:"componentDidUpdate",value:function(){var e=this;this.map&&setTimeout(function(){return e.map.leafletElement._onResize()},300)}},{key:"render",value:function(){var e=this,t=this.props,n=t.stations,a=t.zoom,i=t.center,o=n.features.map(function(t){return r.a.createElement(C.a,{key:t.properties.id,center:[t.geometry.coordinates[1],t.geometry.coordinates[0]],color:t.properties.highlighted?"red":"blue"},r.a.createElement(j.a,{ref:function(n){e.popups[t.properties.id]=n}},t.properties.id))});return r.a.createElement("div",{style:{height:"100%"}},n.features.length&&r.a.createElement(I.a,{ref:function(t){e.map=t},center:i,zoom:a},r.a.createElement(_.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o))}}]),t}(r.a.Component)),F=Object(c.b)(function(e){return{stations:e.intermagnet.stations,center:e.map.center,zoom:e.map.zoom}})(w),k=n(47),N=(n(60),"".concat("example","/institutes")),M="".concat("example","/contacts"),H="".concat("example","/intermagnet"),D="".concat("example","/definitive"),z={aq:"Antarctica",ar:"Argentina",at:"Austria",au:"Australia",be:"Belgium",bg:"Bulgaria",br:"Brazil",ca:"Canada",cf:"Central African Republic",cl:"Chile",cn:"China",cz:"Czech Republic",de:"Germany",dk:"Denmark",dz:"Algeria",es:"Spain",et:"Ethiopia",fi:"Finland",fk:"Falkland Islands (Islas Malvinas)",fr:"France",gb:"United Kingdom",gf:"French Guiana",gl:"Greenland",gr:"Greece",gs:"South Georgia and the South Sandwich Islands",hr:"Croatia",hu:"Hungary",ie:"Republic of Ireland",in:"India",it:"Italy",jp:"Japan",kr:"Korea",kz:"Kazakhstan",lb:"Lebanon",mg:"Madagascar",mv:"Maldives",mx:"Mexico",na:"Namibia",no:"Norway",nz:"New Zealand",pe:"Peru",pf:"French Polynesia",pk:"Pakistan",pl:"Poland",ro:"Romania",rs:"Serbia",ru:"Russia",se:"Sweden",sh:"Saint Helena, Ascension and Tristan da Cunha, British Overseas Territories",sk:"Slovakia",sn:"Senegal",tf:"French Southern and Antarctic Lands",tr:"Turkey",tw:"Taiwan",ua:"Ukraine",us:"United States of America",vn:"Vietnam",ws:"Western Samoa",za:"South Africa"},P=n(17),G=n.n(P);var R=Object(c.b)(function(e){return{stations:e.intermagnet.stations,institutes:e.intermagnet.institutes}},function(e){return{setMapCenter:function(t){return e(function(e){return{type:"SET_MAP_CENTER",payload:e}}(t))},selectStations:function(t){return e(function(e){return{type:"SELECT_STATIONS",payload:e}}(t))},highlightStations:function(t){return e(function(e){return{type:"HIGHLIGHT_STATIONS",payload:e}}(t))}}})(function(e){var t=e.stations,n=e.setMapCenter,a=e.selectStations,i=e.highlightStations,o=[{Header:"IAGA code",id:"iaga",accessor:"properties.iaga",width:100},{Header:"Name",accessor:"properties.name"},{Header:"Country",accessor:"properties.country",Cell:function(e){return e.value in z?z[e.value]:e.value}}];return r.a.createElement(k.a,{data:t.features,className:"-striped -highlight",columns:o,filterable:!0,sorted:[{id:"iaga",desc:!1}],getTrProps:function(e,t){return{onClick:function(){n([t.original.geometry.coordinates[1],t.original.geometry.coordinates[0]]),a([t.original.properties.id])},onMouseOver:function(){i([t.original.properties.id])}}}})}),L=function(e){function t(){return Object(y.a)(this,t),Object(v.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchStations,n=e.fetchInstitutes,a=e.fetchContacts,r=e.fetchDefinitive;t().then(function(){return a()}).then(function(){return n()}).then(function(){return r()})}},{key:"render",value:function(){return r.a.createElement(A.a,{className:"full-height"},r.a.createElement(O.a,{sm:3,className:"intermagnet-table"},r.a.createElement(R,null)),r.a.createElement(O.a,{sm:9,className:"intermagnet-map"},r.a.createElement(F,null)))}}]),t}(r.a.Component),x=Object(c.b)(null,function(e){return{fetchStations:function(){return e(function(e){return new Promise(function(t){e({type:"FETCH_METADATA",payload:G.a.get(H,{responseType:"json"})}).then(function(n){var a=function(e){return{type:"FeatureCollection",features:e.map(function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.longitude>180?e.longitude-360:e.longitude,e.latitude,e.elevation]},properties:e}})}}(n.value.data);e({type:"SET_STATIONS",payload:a}),t(a)})})})},fetchInstitutes:function(){return e(function(e){return new Promise(function(t){e({type:"FETCH_METADATA",payload:G.a.get(N,{responseType:"json"})}).then(function(n){e({type:"SET_INSTITUTES",payload:n.value.data}),t(n.value.data)})})})},fetchContacts:function(){return e(function(e){return new Promise(function(t){e({type:"FETCH_METADATA",payload:G.a.get(M,{responseType:"json"})}).then(function(n){e({type:"SET_CONTACTS",payload:n.value.data}),t(n.value.data)})})})},fetchDefinitive:function(){return e(function(e){return new Promise(function(t){e({type:"FETCH_METADATA",payload:G.a.get(D,{responseType:"json"})}).then(function(n){e({type:"SET_DEFINITVE",payload:n.value.data}),t(n.value.data)})})})}}})(L),U=Object(s.d)(T,Object(s.a)(p.a,l.a,u.logger)),B=function(){return r.a.createElement(c.a,{store:U},r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.88b4704b.chunk.js.map